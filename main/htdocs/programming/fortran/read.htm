<html><head>
    <LINK REL=StyleSheet HREF="../style.css" TYPE="text/css">
    <title>Fortran</title>
</head>

<body>
<a href="../../index.html">Home</a>
: <a href="../programming.htm" >programming</a>
: <a href="fortran.htm" >fortran</a>

<h1>read</h1>

<hr>
<h2>Files of unknown size</h2>


In case of file error (e.g. end of file), do an exit:
<pre>
  double precision :: arr(1000)
  integer :: n, stat

  open(unit = 24, file = "foo.txt")
  n = 0
  do
    read(unit=24, fmt = *, iostat = stat) arr(n+1)
    if (stat /= 0) exit ! break out of loop
    n = n+1
  end do
  close(24)
  ! N now contains the number of elements read
</pre>


<hr><h2>Internal read</h2>

If you want to convert from a string to a number, you need to perform a "Fortran internal read", like so:
<pre>
program fir ! "fortran internal read"
  real v
  character*20 :: inp
  inp = "666.666"
  read(inp, fmt = *), v
  print *, v
end program fir
</pre>




<hr><h2>Links to other sites</h2>

None

<hr><pre>
Author:  Mark Carter
Created: 10-Dec-2015
Updated: 10-Dec-2015
</pre>
</body>
</html>
